// SPDX-License-Identifier: GPL-2.0-or-later OR MIT

#include "qca955x_senao_router-dual.dts"

/ {
	compatible = "engenius,esr1750", "qca,qca9558";
	model = "EnGenius ESR1750";

	aliases {
		led-boot = &led_power;
		led-failsafe = &led_power;
		led-running = &led_power;
		led-upgrade = &led_power;
	};

	leds {
		compatible = "gpio-leds";

		led_power: power {
			label = "amber:power";
			gpios = <&gpio 2 GPIO_ACTIVE_LOW>;
			default-state = "on";
		};

		wlan2g {
			label = "blue:wlan2g";
			gpios = <&gpio 13 GPIO_ACTIVE_LOW>;
			linux,default-trigger = "phy1tpt";
		};

		wlan5g {
			label = "blue:wlan5g";
			gpios = <&gpio 23 GPIO_ACTIVE_LOW>;
			linux,default-trigger = "phy0tpt";
		};

		wps_amber {
			label = "amber:wps";
			gpios = <&gpio 22 GPIO_ACTIVE_LOW>;
		};

		wps_blue {
			label = "blue:wps";
			gpios = <&gpio 19 GPIO_ACTIVE_LOW>;
		};
	};
};

&phy0 {
	qca,ar8327-initvals = <
		0x04 0x87680000 /* PORT0 PAD MODE CTRL */
		0x7c 0x0000007e /* PORT0_STATUS */
	>;
};

&wmac {
	status = "okay";

	nvmem-cells = <&calibration_wmac>;
	nvmem-cell-names = "calibration";
	mac-address-increment = <1>;
};

&ath10k_0 {
	status = "okay";

	nvmem-cells = <&calibration_pcie>;
	nvmem-cell-names = "calibration";
	mac-address-increment = <2>;
};

&usb_phy1 {
	status = "okay";
};

&usb1 {
	status = "okay";
};

&art {
	compatible = "nvmem-cells";

	calibration_wmac: calibration@1000 {
		reg = <0x1000 0x440>;
	};

	calibration_pcie: calibration@5000 {
		reg = <0x5000 0x844>;
	};
};
